
读到一篇文章 [《屋中的大象》-- Apache基金会副总裁几十年的观察](https://www.oschina.net/news/79166/apache-foundation-ceo-decades-views) 让我想起了最近和同事的一次对话。

因为某些众所周知的原因接手了公司的一个 Hybird APP，这是一个用 Vue 框架以及一些原生代码套壳编写的玩意，尽管工作交接的时候已经做好了充足的心理准备，但是看到的代码的时候还是感受到了深深的绝望。这个 APP 承载了公司的主要业务，写代码的人换了好几波，构建工程都是祖传的，没人完整的知道里面有些啥玩意，只知道上线的时候要改啥，本来新东西做的好好的很开心，但该来的还是来了，而且这一次是独自面对，**我要重构它，开始我是这么想的。**

是的，我知道，IT 工作就是如此，我们总是避免不了接手他人的代码，软件开发就是一个前人挖坑后人填坑然后再挖坑的过程，因此我早就准备好了面对这一切的准备了，再糟糕不就是换份工作的事吗？正如交接给我的前任老哥一样。

都说 JS 重构火葬场，没有类型检查重构起来已经很艰难了，然后这玩意还没有单元测试，嘛这很正常，但愿代码可读性好点吧，`var a,b,c、case 'one' case 'two'、xsfl、xxx1.vue、xxx2.vue、xxx3.vue` WTF！！！ 这都是啥？ 这一坨整个项目都没地方引用放那是几个意思？这一坨坨文件堆一起分下类会死吗？这么多 warning 置之不理真的好吗？冷静，冷静，之前做这项目然后跑路的人啥水平不是心里很有预期了吗，就不应该抱有期望啊。我这旁边不是有个小兄弟之前参与过这项目脱坑没跑路的嘛，应该有救，有救，我接手的第一件事件就是删删删、分分分把那些碍眼的没用的干掉，堆一起一坨坨的分开，然后，就有了这样的对话结果。

> 我也不知道这是啥，删了应该没事。
>
> 之前产品需求反复改，有时候会让你把之前做过的再拿出来，所以放那就没删了，也许以后会用到。
>
> 这东西的代码就是一坨屎山，每个都在上面拉一坨，只要确保它不倒就行了。

哭了...



几乎每个人都见过漂亮代码，然而在工作中缺很少有人见过并写过，相反，烂的代码随处可见，而且几乎所有人都在写。

这代码已经是一坨屎了，没救了，为什么我要去改善一坨屎？

是的，我们可以重构，但是领导你准备给我们多长时间呢？

所以明明知道代码很烂，不过应用能跑起来就行了，交付要紧。

花时间去重构，重构完应用不也一样跑，我看不出重构前后有什么区别，也没啥新功能啊，重构干嘛。

每个人都知道代码要重构，写的时候就没想过一边写一边重构改善既有代码的质量吗？哪有可能真给你排一个重构的时间让你优化代码啊？天真！



> 当我们看到别人写的漂亮代码，觉得很稀松平常。
>
> 但我们这些普通人太愚蠢了，看不到自身的局限性。我们知道最漂亮的代码长什么样，知道这是如何使用，但这并不意味着我们可以自己写出这种代码。

**我太愚蠢了，我写不出好代码。**

 
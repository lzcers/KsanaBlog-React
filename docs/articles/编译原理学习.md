---
Title: 编译原理学习
Tags: 编程
PublishDate: 2018/5/27 23:26
---

关于语言，首先要正确区分语法和语义

# 语法的形式

语法的形式一般用一集规则描述，而这个语言的表达能力也跟选取的规则不同。

通常，基于最简单的三个规则，*拼接*、*选择*，*任意次数重复*即可构成一种一种**正则语言**，为了使表达能力更为强大，我们可以加入递归，从定义一种**上下文无关语言**。

仅使用*拼接*、*选择*、*重复*三个规则我们就能定义所有的单词。
```
digit -> 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
unsigned_integer -> digit digit*
```
上面是一个关于数字的定义，其中 | 意思是选择，* 代表任意次重复，这样一条规则称之为一个产生式，箭头左边的字符串称之为非终结符，由这样一个产生式导出来的字符串称之为终结符。

对于描述一个程序设计语言而言，仅仅是这三条规则是远远不够的，我们还要加入**递归**。

```
expression -> identifier | number | - expression | ( expression ) | expression operator expression

operator -> + | - | * | / 
```
上面是一个算术表达式的语法描述，可以看到 expression 箭头的右边同样出现了 expression 字符串，这样的利用自身递归定义自己的形式是上下文无关语法的标志性特征。上下文无关文法的这种记法形式被称之为巴科斯范式（BNF）。

# 语法与语义的交互
通常情况下，对于一个句子，仅存在一颗语法树，若是存在一颗以上即是该语法存在二义性，这种情况下就要对语法规则重写。  
在算术运算中还存在优先级的情况，若是考虑直接对语法树采用后根遍历的方式进行求值，那么就会出现求值优先级与遍历顺序不一致的情况，此时可以考虑讲优先级编码至语法规则中去，通过对不同优先级的情况分组，增加中间层次来改变推导出的语法树结构，以使得自然的遍历求值顺序与正确的求值优先级一致。  
采用后根树遍历求值的情况下，离根节点越近求值顺序越靠后，因而在将优先级编码进语法规则的时候，优先级最高的正是最后一层。

# 语法的层次
根据语法规则的复杂度可以将语法划分为一个乔姆斯基层次结构，语法越复杂意味着分析更困难，分析程序也越难写。  

正则语法（3-型）-> 上下文无关语法（2-型）-> 上下文有关语法（1-型）-> 不受限语法（0-型）  

其中上下文无关语法亦可细分  

正则语法-> LL(1) —> LR(1) -> 上下文无关语法 

---
Title: 项目规范化开发
Tags: 随想
PublishDate: 2019/7/13 22:29:28
---

## why

大部分项目缺少文档、注释、测试、编码不规范、changelog，又加上 IT 行业流动性较大，导致后来的人接手困难，哪怕并没有人员变动，项目也会随着时间的推移与代码量的膨胀逐步导致协作的困难，技术债越积越多，从而导致项目进展推动困难甚至项目失败。

## how

常见的解决方案是在项目流程上对交付件做出硬性规定，甚至对交付件的都有相应的规范与模板，但大多数最终都会流于形式变成应付，交付件质量奇差，敷衍了事。

因此在流程上进行约束是不能完全有效的，流程的产生通常来自于这样的过程，最佳实践 -> 规范标准化 -> 流程化，到了流程这一步其实已经可以考虑将其自动化用 IT 工具来承载了，只有自动化才能让开发人员爽，爽了才愿意做乐意做并做好。

**文档、changelog** 这两个其实都可以通过工具来自动生成，常见如 JSDOC 能从代码中抽取规范化的注释生成文档，changelog 也可以通过规范的 Git commit message 来生成。

开发人员的大部分工作成果都是通过 Git 来交付的，在这一过程中我们可以使用一些工具来拦截到 Git 的 commit、push 等操作来执行一些预处理脚本，如进行代码风格检查、格式化、文档生成等工作，可以使用 **Husky** 来做，配合其他的工具，我们就可以使项目规范化开发更轻松无痛的落地。

**Lint-staged**：在 git staged 阶段运行传入的命令；

**Prettier：**代码格式化工具；

**Commitizen：**自动生成规范的 ommit message 格式以及 changelog；

**commitlint：**代码有 lint 工具，commit 格式当然要有，防止偷懒。

